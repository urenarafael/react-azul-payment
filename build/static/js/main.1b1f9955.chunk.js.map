{"version":3,"sources":["core/Azul.js","core/Loader.js","core/NotFound.js","core/InvalidPayment.js","App.js","reportWebVitals.js","index.js"],"names":["authKey","info","MerchantId","MerchantName","MerchantType","CurrencyCode","OrderNumber","Amount","ITBIS","ApprovedUrl","CancelUrl","DeclinedUrl","UseCustomField1","CustomField1Label","CustomField1Value","UseCustomField2","CustomField2Label","CustomField2Value","parseAmount","amount","dollarsToCents","SuspenseLoader","style","position","top","left","width","height","zIndex","backgroundColor","display","alignItems","flexDirection","justifyContent","marginTop","marginBottom","CircularProgress","size","color","margin","padding","NotFound","class","configs","Application","storageId","useParams","params","queryString","parse","window","location","search","url","useState","data","setData","auth","setAuth","loaded","setLoaded","error","setError","useEffect","console","log","fields","fi","String","shaObj","jsSHA","hmacKey","value","format","update","getHash","hashing","fetchStorage","React","useCallback","fetch","mode","then","res","json","result","orderId","hasError","message","id","setTimeout","document","getElementById","click","ResponseMessage","href","InvalidPayment","className","src","alt","action","method","type","name","visibility","DefaultCmp","SuccessTmp","uri","stored","vendorId","userId","paymentMethod","typeOfReservation","reservationId","paymentMethodResponse","myHeaders","Headers","append","requestOptions","headers","body","JSON","stringify","redirect","response","text","catch","savePayment","Success","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1b1f9955.chunk.js","sourcesContent":["import jsSHA from 'jssha'\nimport dollarsToCents from 'dollars-to-cents'\nconst authKey =\n  '&0ic2GtJ0v%h#9MuWLdYjstN1LWewHO9KHpRe2GVfcaNoO1w$t1JHgnMbvgqFX4K&H6hN0cD0pc3UQYyKCDjCZWyx6kO&V3PwsUUxZeiEO06WxvHmagJZaDaEKD9W0Vy'\n// const authKey =\n//   'asdhakjshdkjasdasmndajksdkjaskldga8odya9d8yoasyd98asdyaisdhoaisyd0a8sydoashd8oasydoiahdpiashd09ayusidhaos8dy0a8dya08syd0a8ssdsax' // test\n\nconst info = {\n  MerchantId: '39912110001',\n  // MerchantId: '39038540035', // test\n  MerchantName: 'Nateevos',\n  MerchantType: 'Travel',\n  CurrencyCode: '$',\n  OrderNumber: '111111',\n  Amount: '1000', //no commas or dots, the last two digits are decilmals, ex: 1000 = 10.00\n  ITBIS: '000',\n  ApprovedUrl: '',\n  CancelUrl: '',\n  DeclinedUrl: '',\n  // ApprovedUrl: 'https://payments.nateevos.com/success?Approved',\n  // CancelUrl: 'https://payments.nateevos.com/cancel?Cancelled',\n  // DeclinedUrl: 'https://nateevos.com/declined/',\n  UseCustomField1: '0',\n  CustomField1Label: '',\n  CustomField1Value: '',\n  UseCustomField2: '0',\n  CustomField2Label: '',\n  CustomField2Value: ''\n}\n\nconst parseAmount = amount => {\n  return dollarsToCents(amount)\n}\nconst hashing = fields => {\n  let fi =\n    String(fields.MerchantId) +\n    String(fields.MerchantName) +\n    String(fields.MerchantType) +\n    String(fields.CurrencyCode) +\n    String(fields.OrderNumber) +\n    String(fields.Amount) +\n    String(fields.ITBIS) +\n    String(fields.ApprovedUrl) +\n    String(fields.DeclinedUrl) +\n    String(fields.CancelUrl) +\n    String(fields.UseCustomField1) +\n    String(fields.CustomField1Label) +\n    String(fields.CustomField1Value) +\n    String(fields.UseCustomField2) +\n    String(fields.CustomField2Label) +\n    String(fields.CustomField2Value) +\n    String(authKey)\n\n  const shaObj = new jsSHA('SHA-512', 'TEXT', {\n    hmacKey: { value: authKey, format: 'TEXT' }\n  })\n  shaObj.update(fi)\n  const hmac = shaObj.getHash('HEX')\n\n  return hmac\n}\n\nexport { info, hashing, parseAmount }\n","import React from 'react'\nimport { CircularProgress } from '@material-ui/core'\n\nconst SuspenseLoader = () => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        zIndex: 10000,\n        backgroundColor: '#FFF',\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        marginTop: 'auto',\n        marginBottom: 'auto'\n      }}\n    >\n      <CircularProgress\n        size='6rem'\n        style={{\n          color: '#e8eaef',\n          margin: 0,\n          padding: 0\n        }}\n      />\n    </div>\n  )\n}\nexport default SuspenseLoader\n","const NotFound = () => {\n  return (\n    <div style={{ backgroundColor: 'black', height: '100vh', width: '100%' }}>\n      <figure>\n        <div class='sad-mac'></div>\n        <figcaption>\n          <span class='sr-text'>Error 404: Not Found</span>\n          <span class='e'></span>\n          <span class='r'></span>\n          <span class='r'></span>\n          <span class='o'></span>\n          <span class='r'></span>\n          <span class='_4'></span>\n          <span class='_0'></span>\n          <span class='_4'></span>\n          <span class='n'></span>\n          <span class='o'></span>\n          <span class='t'></span>\n          <span class='f'></span>\n          <span class='o'></span>\n          <span class='u'></span>\n          <span class='n'></span>\n          <span class='d'></span>\n        </figcaption>\n      </figure>\n    </div>\n  )\n}\nexport default NotFound\n","const NotFound = () => {\n  return (\n    <div style={{ backgroundColor: 'black', height: '100vh', width: '100%' }}>\n      <figure>\n        <div class='sad-mac'></div>\n        <figcaption>\n          <span class='sr-text'>Invalid Payment</span>\n        </figcaption>\n      </figure>\n    </div>\n  )\n}\nexport default NotFound\n","import React from \"react\";\n\nimport \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { info, hashing, parseAmount } from \"./core/Azul\";\nimport SuspenseLoader from \"./core/Loader\";\nimport NotFound from \"./core/NotFound\";\nimport InvalidPayment from \"./core/InvalidPayment\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useParams,\n} from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nconst configs = {\n  apiUrl: \"https://api.nateevos.com/\",\n  storageUrl: \"https://api.nateevos.com/commons/storage\",\n  baseUrl: \"https://payments.nateevos.com/\",\n  azulBaseUrl: \"https://pagos.azul.com.do\",\n  // azulBaseUrl: \"https://pruebas.azul.com.do\" // test\n};\n\n// const configs = {\n//   apiUrl: 'http://localhost:3002/',\n//   storageUrl: 'http://localhost:3002/commons/storage',\n//   baseUrl: 'http://localhost:3001/'\n// }\n\nconst Application = () => {\n  const { storageId } = useParams();\n  let params = queryString.parse(window.location.search);\n\n  const url = `${configs.storageUrl}/${storageId}`;\n\n  const [data, setData] = useState(info);\n  const [auth, setAuth] = useState(\"\");\n\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n\n  const setUpData = (orderId, amount) => {\n    setData({\n      ...info,\n      OrderNumber: orderId,\n      ApprovedUrl: `${configs.baseUrl}successtmp?ApprovedTemp`, // uri where will be saved payment info , then will redirect to the last one\n      CancelUrl: `${configs.baseUrl}${orderId}?Cancelled`,\n      DeclinedUrl: `${configs.baseUrl}${orderId}?Declined`,\n      // OrderNumber: String(orderId).padStart(6, '0'),\n      Amount: parseAmount(amount),\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"data is\", data);\n    setAuth(hashing(data));\n  }, [data]);\n\n  const fetchStorage = React.useCallback(() => {\n    fetch(`${url}`, {\n      mode: \"cors\",\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          if (result.hasError) {\n            setLoaded(true);\n            setError(true);\n          } else {\n            setLoaded(true);\n            if (!result.message.value?.amount) {\n              setError(true);\n            } else {\n              setUpData(result.message.id, result.message.value.amount);\n              setTimeout(() => {\n                const submitButton = document.getElementById(\"submit\");\n                submitButton.click();\n              }, 1000);\n            }\n          }\n        },\n        (error) => {\n          setLoaded(true);\n        }\n      );\n  }, [url]);\n\n  useEffect(() => {\n    fetchStorage();\n    if (!error && loaded) {\n      setTimeout(() => {\n        const submitButton = document.getElementById(\"submit\");\n        submitButton.click();\n      }, 1000);\n    }\n  }, [fetchStorage]);\n\n  React.useEffect(() => {\n    console.log(\"response azul is\", params.ResponseMessage, params);\n    if (params.ResponseMessage == \"DECLINADA\") {\n      console.log(\"response message when declined\", params);\n      window.location.href = `https://nateevos.com/azul-pay?response=Declined`;\n    }\n  }, [params]);\n\n  return (\n    <>\n      {!loaded && <SuspenseLoader></SuspenseLoader>}\n      {error && <InvalidPayment />}\n      {loaded && !error && (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <img\n              src={`https://payments.nateevos.com/administrator/nateevos.png`}\n              className=\"App-logo\"\n              alt=\"logo\"\n            />\n            <p></p>\n            <form\n              action={`https://pagos.azul.com.do/PaymentPage/Default.aspx`}\n              // action='https://pruebas.azul.com.do/PaymentPage/'\n              method=\"post\"\n            >\n              <input\n                type=\"hidden\"\n                id=\"MerchantId\"\n                name=\"MerchantId\"\n                value={data.MerchantId}\n              />\n              <input type=\"hidden\" id=\"TrxType\" name=\"TrxType\" value=\"HOLD\" />\n\n              <input\n                type=\"hidden\"\n                id=\"MerchantName\"\n                name=\"MerchantName\"\n                value={data.MerchantName}\n              />\n              <input\n                type=\"hidden\"\n                id=\"MerchantType\"\n                name=\"MerchantType\"\n                value={data.MerchantType}\n              />\n              <input\n                type=\"hidden\"\n                id=\"CurrencyCode\"\n                name=\"CurrencyCode\"\n                value={data.CurrencyCode}\n              />\n              <input\n                type=\"hidden\"\n                id=\"OrderNumber\"\n                name=\"OrderNumber\"\n                value={data.OrderNumber}\n              />\n              <input\n                type=\"hidden\"\n                id=\"Amount\"\n                name=\"Amount\"\n                value={data.Amount}\n              />\n              <input\n                type=\"hidden\"\n                id=\"ApprovedUrl\"\n                name=\"ApprovedUrl\"\n                value={data.ApprovedUrl}\n              />\n              <input type=\"hidden\" id=\"DesignV2\" name=\"DesignV2\" value={1} />\n\n              <input\n                type=\"hidden\"\n                id=\"LogoImageUrl\"\n                name=\"LogoImageUrl\"\n                value={`https://payments.nateevos.com/administrator/nateevos.png`}\n              />\n\n              <input\n                type=\"hidden\"\n                id=\"ProductImageUrl\"\n                name=\"ProductImageUrl\"\n                value={`https://payments.nateevos.com/administrator/nateevos.png`}\n              />\n\n              <input\n                type=\"hidden\"\n                id=\"DeclinedUrl\"\n                name=\"DeclinedUrl\"\n                value={data.DeclinedUrl}\n              />\n              <input\n                type=\"hidden\"\n                id=\"CancelUrl\"\n                name=\"CancelUrl\"\n                value={data.CancelUrl}\n              />\n              <input\n                type=\"hidden\"\n                id=\"UseCustomField1\"\n                name=\"UseCustomField1\"\n                value={data.UseCustomField1}\n              />\n              {/* <input type=\"hidden\" id=\"CustomField1Label\" name=\"CustomField1Label\" value=\"Custom1\"/>\n<input type=\"hidden\" id=\"CustomField1Value\" name=\"CustomField1Value\" value=\"Value1\"/> */}\n              <input\n                type=\"hidden\"\n                id=\"UseCustomField2\"\n                name=\"UseCustomField2\"\n                value={data.UseCustomField2}\n              />\n              {/* <input type=\"hidden\" id=\"CustomField2Label\" name=\"CustomField2Label\" value=\"Custom2\"/>\n<input type=\"hidden\" id=\"CustomField2Value\" name=\"CustomField2Value\" value=\"Value2\"/> */}\n              <input type=\"hidden\" id=\"AuthHash\" name=\"AuthHash\" value={auth} />\n              <input\n                type=\"submit\"\n                id=\"submit\"\n                value=\"Enviar\"\n                style={{ visibility: \"hidden\" }}\n              />\n            </form>\n          </header>\n        </div>\n      )}\n    </>\n  );\n};\nconst DefaultCmp = () => {\n  return (\n    <div>\n      <NotFound></NotFound>\n    </div>\n  );\n};\nconst SuccessTmp = () => {\n  let params = queryString.parse(window.location.search);\n\n  const savePayment = (data) => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    var raw = JSON.stringify(data);\n    // var raw = JSON.stringify({\"vendorId\":3,\"userId\":\"13\",\"paymentMethod\":\"azul\",\"typeOfReservation\":\"stays\",\"amount\":20,\"reservationId\":16,\"storageId\":41,\"paymentMethodResponse\":{\"ApprovedUrl\":\"\",\"OrderNumber\":\"370\",\"Amount\":\"1000\",\"Itbis\":\"000\",\"AuthorizationCode\":\"032449\",\"DateTime\":\"20210525124414\",\"ResponseCode\":\"ISO8583\",\"IsoCode\":\"00\",\"ResponseMessage\":\"APROBADA\",\"ErrorDescription\":\"\",\"RRN\":\"20210525124436127178\",\"AuthHash\":\"de30f5800e02197379b96802207e19d346492363f5aead581f946838ed50635a2c1239a84407f7726f99adc747be3d0ca23b6316e40f21d54ef1df605b01f3be\",\"CustomOrderId\":\"\",\"CardNumber\":\"541599******5152\",\"DataVaultToken\":\"\",\"DataVaultExpiration\":\"\",\"DataVaultBrand\":\"\",\"AzulOrderId\":\"16697233\"}});\n\n    var requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: raw,\n      redirect: \"follow\",\n    };\n\n    fetch(`${configs.apiUrl}payments`, requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        console.log(result);\n        window.location.href = `${configs.baseUrl}successcompleted`;\n      })\n      .catch((error) => console.log(\"error\", error));\n  };\n\n  React.useEffect(() => {\n    console.log(\"response azul is\", params);\n    if (params.ResponseMessage == \"DECLINADA\") {\n      console.log(\"response message when declined\", params);\n      window.location.href = `https://nateevos.com/azul-pay?response=Declined`;\n    }\n    if (params.ResponseMessage == \"APROBADA\") {\n      console.log(\"do req\");\n\n      const uri = `${configs.storageUrl}/${params.OrderNumber}`;\n\n      fetch(`${uri}`, {\n        mode: \"cors\",\n      })\n        .then((res) => res.json())\n        .then(\n          (result) => {\n            console.log(\"r\");\n            const stored = result.message.value;\n            const data = {\n              vendorId: stored.data.vendorId,\n              userId: stored.data.userId,\n              paymentMethod: \"azul\",\n              typeOfReservation: stored.type,\n              amount: stored.amount,\n              reservationId: stored.data.id,\n              storageId: params.OrderNumber,\n              paymentMethodResponse: params,\n            };\n            console.log(\"dd\", data);\n            savePayment(data);\n          },\n          (error) => {\n            // setLoaded(true)\n          }\n        );\n    }\n  }, [params]);\n  return (\n    <div>\n      <SuspenseLoader></SuspenseLoader>\n    </div>\n  );\n};\n\nconst Success = () => {\n  return <div>Success</div>;\n};\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/successtmp\" component={SuccessTmp} />\n        <Route exact path=\"/successcompleted\" component={Success} />\n        <Route exact path=\"/:storageId\" component={Application} />\n        <Route exact path=\"*\" component={DefaultCmp} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}